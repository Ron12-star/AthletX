<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart</title>
  <link rel="stylesheet" href="/css/cart.css">
</head>
<body>
  <main>
  <!-- <h1>Shopping Cart</h1> -->
    <div id="cart-container">
      <% cartItems.forEach(item => { %>
          <div class="cart-item">
              <img src="<%= item.image %>" alt="<%= item.name %>" width="100">
              <div class="cart-details">
                  <h3><%= item.name %></h3>
                  <p>Price: $<%= item.price %></p>
                  <p>Quantity: 
                    <button class="decrease-btn" data-productid="<%= item.productId %>">-</button>
                    <span class="quantity" id="quantity-<%= item.productId %>"><%= item.quantity %></span>
                    <button class="increase-btn" data-productid="<%= item.productId %>">+</button>
                  </p>
                  <p>Discount: <%= item.discount %>%</p>
                  <!-- <p id="total-price"><strong>Total: $<%= (item.price * item.quantity * (1 - item.discount / 100)).toFixed(2) %></strong></p> -->
                  <p id="total-item-price-<%= item.productId %>" data-price="<%= item.price %>" data-discount="<%= item.discount %>"><strong>
                    Total: $<%= (item.price * item.quantity * (1 - item.discount / 100)).toFixed(2) %></strong>
                </p>
                  
                  <button class="remove-btn" data-productid="<%= item.productId %>">Remove</button>

              </div>
          </div>
      <% }); %>
  </div>
  
  <a href="/">Continue Shopping</a>
  <div class="cart-total">
    <h3>Total Price: $<span id="total-price"><%= totalPrice %></span></h3>
    <button class="checkout-btn">Proceed to Checkout</button>
</div>
</main>
<script src="/static/cart.js" type="text/javascript"></script>
</body>
</html>